(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8930],{6899:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return k}});var t=n(85893),a=n(809),s=n.n(a),o=n(92447),c=n(26265),i=n(64121),u=n(38347),l=n(96245),p=n(36808),d=n.n(p),f=n(39547),h=n(25118),m=n(7784),j=n(282),v=n(19501),b=n(30693),x=n.n(b),O=n(33138),y=n(11163),w=n(50851),g=n(67294);function N(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Z(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?N(Object(n),!0).forEach((function(r){(0,c.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var _=function(e){var r=e.placeholder,n=e.type,a=(0,u.Z)(e,["placeholder","type"]),s=(0,h.U$)(a),o=(0,i.Z)(s,2),c=o[0],l=o[1],p=l.error&&l.touched?l.error:"";return(0,t.jsx)(m.Z,Z(Z({variant:"outlined",type:n,size:"small",placeholder:r},c),{},{helperText:p,error:!!p,InputLabelProps:{className:x().form}}))},P=v.Ry({username:v.Z_().matches(/^(\S+$)/,"N\xe3o pode conter espa\xe7os").min(5,"O nome da conta deve ter entre 5 a 15 car\xe1teres.").max(15,"O nome da conta deve ter entre 5 a 15 car\xe1teres.")});function k(){var e=d().getJSON("token"),r=(0,l.Z)(e).role;if("USER"==r||"BO"==r)return(0,t.jsx)("div",{children:(0,t.jsx)(f.Z,{})});function n(e){return a.apply(this,arguments)}function a(){return(a=(0,o.Z)(s().mark((function r(n){var t;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t={headers:{Authorization:"Bearer "+e}},r.next=3,O.h.post("backoffice/insert",n,t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))).apply(this,arguments)}var c=(0,g.useState)("ADMIN"),i=c[0],u=c[1];(0,y.useRouter)();return(0,t.jsxs)("div",{className:x().container,children:[(0,t.jsx)("div",{className:x().header,children:(0,t.jsx)(w.Z,{})}),(0,t.jsx)("div",{className:x().register,children:(0,t.jsx)(h.J9,{initialValues:{username:"",password:"",email:"",role:""},validationSchema:P,onSubmit:function(){var e=(0,o.Z)(s().mark((function e(r,t){var a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.setSubmitting,o=t.resetForm,a(!0),r.role=i,n(r),a(!1),o(),console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),children:function(e){var r=e.isSubmitting;return(0,t.jsxs)(h.l0,{className:x().form,children:[(0,t.jsx)(_,{placeholder:"Username",name:"username",type:"input",as:m.Z}),(0,t.jsx)("br",{}),(0,t.jsx)(_,{placeholder:"Password",name:"password",type:"input",as:m.Z}),(0,t.jsx)("br",{}),(0,t.jsx)(_,{placeholder:"Email",name:"email",type:"input",as:m.Z}),(0,t.jsx)("br",{}),(0,t.jsx)("a",{children:"Role:"}),(0,t.jsxs)("select",{name:"role",onChange:function(e){return u(e.target.value)},children:[(0,t.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,t.jsx)("option",{value:"BO",children:"Back Office"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(j.Z,{disabled:r,type:"submit",children:"Registar"})})]})}})})]})}},86865:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-bo",function(){return n(6899)}])}},function(e){e.O(0,[9774,5445,260,2013,7925,3433,7321,3996,8540,6751,5171],(function(){return r=86865,e(e.s=r);var r}));var r=e.O();_N_E=r}]);