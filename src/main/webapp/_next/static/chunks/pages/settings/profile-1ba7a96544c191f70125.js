(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{8551:function(e,n,t){"use strict";var r=t(5318),i=t(862);n.Z=void 0;var a=i(t(7294)),o=(0,r(t(2108)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),a.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");n.Z=o},3281:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(5893),i=t(1163),a=t(6808),o=t.n(a);function s(){var e=(0,i.useRouter)();return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Your session has expired"}),(0,r.jsx)("button",{onClick:function(){o().remove("token"),o().remove("user"),e.push("/login")},children:"Login in"})]})})}},580:function(e,n,t){"use strict";t.d(n,{f:function(){return r}});var r=[{title:"Atividades a fazer",number:1,url:"/",cName:"af"},{title:"Atividades Criadas",number:2,url:"/",cName:"af"},{title:"Atividades Atividades Feitas",number:3,url:"/",cName:"af"}]},1498:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Y}});var r=t(809),i=t.n(r),a=t(6265),o=t(5893),s=t(2447),l=t(261),c=t.n(l),u=t(9008),d=t(7294),p=t(580),h=t(1163),f=t(6808),m=t.n(f),g=t(851),b=t(3138),j=t(5723),v=t(3281),_=t(4121),x=t(8347),y=t(170),N=t(7784),O=t(282),Z=t(9811),w=t(7569),P=t(7835),S=t.n(P),k=t(1120),C=t(7812),E=t(8551),D=t(8248),T=t(6479),L=t(6445),M=t(2605),R=t(5675);function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F=function(e){var n=e.type,t=e.placeholder,r=(0,x.Z)(e,["type","placeholder"]),i=(0,y.U$)(r),a=(0,_.Z)(i,2),s=a[0],l=a[1],c=l.error&&l.touched?l.error:"";return(0,o.jsx)(N.Z,A(A({type:n,size:"small",placeholder:t},s),{},{helperText:c,error:!!c,InputLabelProps:{className:S().form}}))},I=Z.Ry({profile:Z.Z_().required(),phoneNumber:Z.Rx().typeError("N\xe3o pode conter letras."),mobileNumber:Z.Rx().typeError("N\xe3o pode conter letras."),location:Z.Z_(),birthday:Z.Z_(),gender:Z.Z_()}),V=(0,k.Z)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},formControl:{margin:e.spacing(1),minWidth:120,background:"linear-gradient(45deg, #fff 30%, #fff 90%)"}}}));function J(e){var n=(0,h.useRouter)(),t=(0,d.useState)(e.gender),r=t[0],a=t[1],l=(0,d.useState)(e.profile),c=l[0],u=l[1],p=(0,d.useState)(!1),f=p[0],g=p[1],j=(0,d.useState)(!1),v=j[0],_=j[1],x=(0,d.useState)(e.birthday),Z=x[0],P=x[1],k=(0,d.useContext)(w.V).authenticated,z=(0,d.useState)(null),J=z[0],U=z[1],B=(0,d.useState)(null),X=B[0],H=B[1],Y=function(e){a(e.target.value),console.log(e.target.value)},G=function(){g(!1)},K=function(){g(!0)},W=function(e){u(e.target.value)},q=function(){_(!1)},Q=function(){_(!0)},$=V(),ee=JSON.parse(m().get("token"));return(0,o.jsx)("div",{className:S().container,children:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:S().banneravatar,children:(0,o.jsxs)("div",{className:S().banner,children:[(0,o.jsx)("div",{className:S().avatar,children:null==X?(0,o.jsx)(R.default,{loader:function(){return"https://storage.googleapis.com/helpinhand-318217.appspot.com/".concat(e.image)},src:"me.png",placeholder:"blur",width:160,height:160,className:S().image}):(0,o.jsx)("img",{src:X,className:S().imagepreview})}),(0,o.jsxs)("div",{className:S().icon,children:[(0,o.jsx)("input",{accept:"image/*",className:S().input,id:"icon-button-file",type:"file",onChange:function(e){console.log(e.target.files[0]),U(e.target.files[0]),H(URL.createObjectURL(e.target.files[0])),console.log(X),console.log(J)}}),(0,o.jsx)("label",{htmlFor:"icon-button-file",children:(0,o.jsx)(C.Z,{color:"primary","aria-label":"upload picture",component:"span",className:S().iconbutton,children:(0,o.jsx)(E.Z,{})})})]})]})}),(0,o.jsx)(y.J9,{initialValues:{profile:e.profile,phoneNumber:e.phoneNumber,mobileNumber:e.mobileNumber,location:e.location,birthday:e.birthday,gender:e.gender,image:e.image},validationSchema:I,onSubmit:function(){var e=(0,s.Z)(i().mark((function e(t,a){var o,s,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.setSubmitting,console.log("submitting"),o(!0),s={headers:{"Content-Type":"application/json"}},t.profile=c,t.gender=r,t.birthday=Z,(l=new FormData).append("image",J),console.log(l.get("type")),!k){e.next=18;break}if(null===J){e.next=15;break}return t.image=ee.username+Date.now()+".jpg",e.next=15,b.d.post(t.image,l).then((function(e){console.log(e),console.log("upload")})).catch((function(e){console.log(e)}));case 15:return u=JSON.stringify({token:A({},ee),userData:A({},t)}),e.next=18,b.h.patch("users/update",u,s).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 18:o(!1),n.push("/".concat(ee.username));case 20:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:function(e){var n=e.isSubmitting;return(0,o.jsxs)(y.l0,{className:S().form,children:[(0,o.jsx)(L.Z,{className:$.formControl,children:(0,o.jsxs)(D.Z,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",displayEmpty:!0,open:v,onClose:q,onOpen:Q,value:c,onChange:W,children:[(0,o.jsx)(T.Z,{value:"",disabled:!0,children:"Tipo de Perfil"}),(0,o.jsx)(T.Z,{value:"PUBLIC",children:"P\xfablico"}),(0,o.jsx)(T.Z,{value:"PRIVATE",children:"Privado"})]})}),(0,o.jsx)(F,{placeholder:"phoneNumber",name:"phoneNumber",type:"input",as:N.Z}),(0,o.jsx)(F,{placeholder:"mobileNumber",name:"mobileNumber",type:"input",as:N.Z}),(0,o.jsx)(F,{placeholder:"location",name:"location",type:"input",as:N.Z}),(0,o.jsx)(N.Z,{id:"date",label:"Data nascimento",type:"date",defaultValue:Z,onChange:function(e){return function(e){P((0,M.Z)(new Date(e.target.value),"yyyy-MM-dd")),console.log((0,M.Z)(new Date(e.target.value),"yyyy-MM-dd"))}(e)},InputLabelProps:{shrink:!0}}),(0,o.jsx)(L.Z,{className:$.formControl,children:(0,o.jsxs)(D.Z,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",displayEmpty:!0,open:f,onClose:G,onOpen:K,value:r,onChange:Y,children:[(0,o.jsx)(T.Z,{value:"",disabled:!0,children:"Selecionar G\xe9nero"}),(0,o.jsx)(T.Z,{value:"Masculino",children:"Masculino"}),(0,o.jsx)(T.Z,{value:"Feminino",children:"Feminino"}),(0,o.jsx)(T.Z,{value:"N\xe3o Bin\xe1rio",children:"N\xe3o Bin\xe1rio"})]})}),(0,o.jsx)("div",{children:(0,o.jsx)(O.Z,{disabled:n,type:"submit",children:"save"})})]})}})]})})}function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function X(e){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m().getJSON("token"),e.next=3,b.h.post(n,t).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){var e=(0,h.useRouter)(),n=(0,d.useState)(1),t=n[0],r=n[1],i=m().getJSON("token"),a=(0,j.ZP)("users/user/",X),s=a.data,l=a.error,f=s;if(console.log(s),l)return(0,o.jsx)(v.Z,{});if(!s)return(0,o.jsx)("div",{children:"loading..."});return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:c().container,children:[(0,o.jsx)(u.default,{children:(0,o.jsx)("title",{children:"User"})}),(0,o.jsx)("div",{className:c().header,children:(0,o.jsx)(g.Z,{})}),(0,o.jsxs)("div",{className:c().banneravatar,children:[(0,o.jsx)("div",{className:c().banner,children:(0,o.jsx)("div",{className:c().avatar,children:(0,o.jsx)(R.default,{loader:function(){return"https://storage.googleapis.com/helpinhand-318217.appspot.com/".concat(f.image)},src:"me.png",placeholder:"blur",width:170,height:170,className:c().image})})}),(0,o.jsxs)("div",{className:c().userinfo,children:[(0,o.jsx)("h2",{children:f.name}),(0,o.jsx)("p",{children:(0,o.jsxs)("span",{children:["@",f.username]})}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{children:"Edit info"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("hr",{className:c().line}),(0,o.jsx)("div",{className:c().atividades,children:p.f.map((function(e,n){return(0,o.jsx)("button",{onClick:function(){return 1===(n=e.number)&&r(1),2===n&&r(2),void(3===n&&r(3));var n},children:(0,o.jsx)("span",{children:e.title})},n)}))}),(0,o.jsx)("div",{className:c().currentpage,children:(0,o.jsx)("h1",{children:t})}),(0,o.jsx)("div",{})]})]}),(0,o.jsx)("div",{className:c().other})]}),(0,o.jsxs)("div",{className:c().settingsTitle,children:[(0,o.jsx)("h1",{children:"Edit user"}),(0,o.jsx)("button",{onClick:function(){return e.push("/".concat(i.username))},children:(0,o.jsx)("p",{children:"\u2716"})})]}),(0,o.jsx)("div",{className:c().settings,children:(0,o.jsx)(J,B({},f))})]})}},5258:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/profile",function(){return t(1498)}])},7835:function(e){e.exports={container:"styles_container__2KDus",form:"styles_form__ehFVn",banneravatar:"styles_banneravatar__I7fb8",banner:"styles_banner__2BgPm",avatar:"styles_avatar__1Bt23",image:"styles_image__cwjMZ",imagepreview:"styles_imagepreview__3GgKS",input:"styles_input__14_s7",icon:"styles_icon__1SA9c",iconbutton:"styles_iconbutton__dpk89",PhotoCamera:"styles_PhotoCamera__a6cyx"}},261:function(e){e.exports={container:"editprofile_container__ayL1j",header:"editprofile_header__283-t",banneravatar:"editprofile_banneravatar__1cW0U",banner:"editprofile_banner__1iZkE",avatar:"editprofile_avatar__2iAar",image:"editprofile_image__2-1bD",userinfo:"editprofile_userinfo__1yz5w",line:"editprofile_line__3bZDz",atividades:"editprofile_atividades__Y1Jwv",other:"editprofile_other__3TzgX",currentpage:"editprofile_currentpage__14VtQ",settingsTitle:"editprofile_settingsTitle__3pX9M",settings:"editprofile_settings__Hi9Yc"}}},function(e){e.O(0,[774,445,260,13,351,433,321,15,996,912,723,607,605,32,8],(function(){return n=5258,e(e.s=n);var n}));var n=e.O();_N_E=n}]);