(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},862:function(e,t,n){var r=n(8).default;function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.default=e.exports,e.exports.__esModule=!0},8:function(e){function t(n){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},7812:function(e,t,n){"use strict";var r=n(926),o=n(2949),a=n(7294),i=(n(5697),n(6010)),s=n(4670),l=n(9693),c=n(4720),u=n(3871),d=a.forwardRef((function(e,t){var n=e.edge,s=void 0!==n&&n,l=e.children,d=e.classes,p=e.className,f=e.color,m=void 0===f?"default":f,h=e.disabled,b=void 0!==h&&h,g=e.disableFocusRipple,v=void 0!==g&&g,x=e.size,y=void 0===x?"medium":x,_=(0,o.Z)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.createElement(c.Z,(0,r.Z)({className:(0,i.Z)(d.root,p,"default"!==m&&d["color".concat((0,u.Z)(m))],b&&d.disabled,"small"===y&&d["size".concat((0,u.Z)(y))],{start:d.edgeStart,end:d.edgeEnd}[s]),centerRipple:!0,focusRipple:!v,disabled:b,ref:t},_),a.createElement("span",{className:d.label},l))}));t.Z=(0,s.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,l.U1)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,l.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,l.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(d)},8731:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return o.Z},createSvgIcon:function(){return a.Z},debounce:function(){return i.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return u.Z},requirePropFactory:function(){return d},setRef:function(){return p.Z},unstable_useId:function(){return v},unsupportedProp:function(){return f},useControlled:function(){return m.Z},useEventCallback:function(){return h.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return x.Z}});var r=n(3871),o=n(2568),a=n(5209),i=n(9437);function s(e,t){return function(){return null}}var l=n(3711),c=n(626),u=n(713);function d(e){return function(){return null}}var p=n(4236);function f(e,t,n,r,o){return null}var m=n(2775),h=n(5192),b=n(3834),g=n(7294);function v(e){var t=g.useState(e),n=t[0],r=t[1],o=e||n;return g.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),o}var x=n(4896)},8551:function(e,t,n){"use strict";var r=n(5318),o=n(862);t.Z=void 0;var a=o(n(7294)),i=(0,r(n(2108)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),a.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");t.Z=i},2108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8731)},8847:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var r=n(809),o=n.n(r),a=n(6265),i=n(5893),s=n(2447),l=n(3074),c=n.n(l),u=n(9008),d=n(7294),p=n(580),f=n(7569),m=n(1163),h=n(6808),b=n.n(h),g=n(7504),v=n(3138),x=n(5723),y=n(3281),_=n(9227),j=n(8347),Z=n(170),N=n(7784),O=n(282),C=n(9811),w=n(7835),P=n.n(w),S=n(926),k=n(1314),E=n(337);var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,k.Z)(e,(0,S.Z)({defaultTheme:E.Z},t))},M=n(7812),R=n(8551),D=n(8248),F=n(2949),T=n(6156),z=(n(5697),n(6010)),L=n(4670),V=n(4720),A=n(3711),B=n(3834),$=n(6987),U=n(3935),G="undefined"===typeof window?d.useEffect:d.useLayoutEffect,J=d.forwardRef((function(e,t){var n=e.alignItems,r=void 0===n?"center":n,o=e.autoFocus,a=void 0!==o&&o,i=e.button,s=void 0!==i&&i,l=e.children,c=e.classes,u=e.className,p=e.component,f=e.ContainerComponent,m=void 0===f?"li":f,h=e.ContainerProps,b=(h=void 0===h?{}:h).className,g=(0,F.Z)(h,["className"]),v=e.dense,x=void 0!==v&&v,y=e.disabled,_=void 0!==y&&y,j=e.disableGutters,Z=void 0!==j&&j,N=e.divider,O=void 0!==N&&N,C=e.focusVisibleClassName,w=e.selected,P=void 0!==w&&w,k=(0,F.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),E=d.useContext($.Z),I={dense:x||E.dense||!1,alignItems:r},M=d.useRef(null);G((function(){a&&M.current&&M.current.focus()}),[a]);var R=d.Children.toArray(l),D=R.length&&(0,A.Z)(R[R.length-1],["ListItemSecondaryAction"]),T=d.useCallback((function(e){M.current=U.findDOMNode(e)}),[]),L=(0,B.Z)(T,t),J=(0,S.Z)({className:(0,z.Z)(c.root,u,I.dense&&c.dense,!Z&&c.gutters,O&&c.divider,_&&c.disabled,s&&c.button,"center"!==r&&c.alignItemsFlexStart,D&&c.secondaryAction,P&&c.selected),disabled:_},k),W=p||"li";return s&&(J.component=p||"div",J.focusVisibleClassName=(0,z.Z)(c.focusVisible,C),W=V.Z),D?(W=J.component||p?W:"div","li"===m&&("li"===W?W="div":"li"===J.component&&(J.component="div")),d.createElement($.Z.Provider,{value:I},d.createElement(m,(0,S.Z)({className:(0,z.Z)(c.container,b),ref:L},g),d.createElement(W,J,R),R.pop()))):d.createElement($.Z.Provider,{value:I},d.createElement(W,(0,S.Z)({ref:L},J),R))})),W=(0,L.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(J),H=d.forwardRef((function(e,t){var n,r=e.classes,o=e.className,a=e.component,i=void 0===a?"li":a,s=e.disableGutters,l=void 0!==s&&s,c=e.ListItemClasses,u=e.role,p=void 0===u?"menuitem":u,f=e.selected,m=e.tabIndex,h=(0,F.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==m?m:-1),d.createElement(W,(0,S.Z)({button:!0,role:p,tabIndex:n,component:i,selected:f,disableGutters:l,classes:(0,S.Z)({dense:r.dense},c),className:(0,z.Z)(r.root,o,f&&r.selected,!l&&r.gutters),ref:t},h))})),K=(0,L.Z)((function(e){return{root:(0,S.Z)({},e.typography.body1,(0,T.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,S.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(H),q=n(6445),X=n(2605),Q=n(5675);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){var t=e.type,n=e.placeholder,r=(0,j.Z)(e,["type","placeholder"]),o=(0,Z.U$)(r),a=(0,_.Z)(o,2),s=a[0],l=a[1],c=l.error&&l.touched?l.error:"";return(0,i.jsx)(N.Z,ee(ee({type:t,size:"small",placeholder:n},s),{},{helperText:c,error:!!c,InputLabelProps:{className:P().form}}))},ne=C.Ry({profile:C.Z_().required(),phoneNumber:C.Rx().typeError("N\xe3o pode conter letras."),mobileNumber:C.Rx().typeError("N\xe3o pode conter letras."),address:C.Z_(),location:C.Z_(),postalCode:C.Z_().matches(/^\d\d\d\d-\d\d\d$/,"Formato correto: Ex: 1234-567"),birthday:C.Z_(),gender:C.Z_()}),re=I((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},formControl:{margin:e.spacing(1),minWidth:120,background:"linear-gradient(45deg, #fff 30%, #fff 90%)"}}}));function oe(e){var t=(0,d.useState)(e.gender),n=t[0],r=t[1],a=(0,d.useState)(e.profile),l=a[0],c=a[1],u=(0,d.useState)(!1),p=u[0],m=u[1],h=(0,d.useState)(!1),g=h[0],x=h[1],y=(0,d.useState)(e.birthday),_=y[0],j=y[1],C=(0,d.useContext)(f.V).authenticated,w=(0,d.useState)(null),S=w[0],k=w[1],E=(0,d.useState)(null),I=E[0],F=E[1],T=function(e){r(e.target.value),console.log(e.target.value)},z=function(){m(!1)},L=function(){m(!0)},V=function(e){c(e.target.value)},A=function(){x(!1)},B=function(){x(!0)},$=re(),U=JSON.parse(b().get("token"));return(0,i.jsx)("div",{className:P().container,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:P().banneravatar,children:(0,i.jsxs)("div",{className:P().banner,children:[(0,i.jsx)("div",{className:P().avatar,children:null==I?(0,i.jsx)(Q.default,{loader:function(){return"https://storage.googleapis.com/imagens-helpin-hand/".concat(U.username,".jpg")},src:"me.png",placeholder:"blur",width:160,height:160,className:P().image}):(0,i.jsx)("img",{src:I,className:P().imagepreview})}),(0,i.jsxs)("div",{className:P().icon,children:[(0,i.jsx)("input",{accept:"image/*",className:P().input,id:"icon-button-file",type:"file",onChange:function(e){console.log(e.target.files[0]),k(e.target.files[0]),F(URL.createObjectURL(e.target.files[0])),console.log(I),console.log(S)}}),(0,i.jsx)("label",{htmlFor:"icon-button-file",children:(0,i.jsx)(M.Z,{color:"primary","aria-label":"upload picture",component:"span",className:P().iconbutton,children:(0,i.jsx)(R.Z,{})})})]})]})}),(0,i.jsx)(Z.J9,{initialValues:{profile:e.profile,phoneNumber:e.phoneNumber,mobileNumber:e.mobileNumber,address:e.address,location:e.location,postalCode:e.postalCode,birthday:e.birthday,gender:e.gender,kind:"helper"},validationSchema:ne,onSubmit:function(){var e=(0,s.Z)(o().mark((function e(t,r){var a,i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.setSubmitting,console.log("submitting"),a(!0),i={headers:{"Content-Type":"application/json"}},t.profile=l,t.gender=n,t.birthday=_,t.kind="helper",s=JSON.stringify({token:ee({},U),userData:ee({},t)}),console.log(s),(c=new FormData).append("image",S),console.log(c.get("type")),!C){e.next=19;break}return e.next=16,v.h.patch("users/update",s,i).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 16:if(null===S){e.next=19;break}return e.next=19,v.d.post(U.username+".jpg",c).then((function(e){console.log(e),console.log("upload")})).catch((function(e){console.log(e)}));case 19:a(!1);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return(0,i.jsxs)(Z.l0,{className:P().form,children:[(0,i.jsx)(q.Z,{className:$.formControl,children:(0,i.jsxs)(D.Z,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",displayEmpty:!0,open:g,onClose:A,onOpen:B,value:l,onChange:V,children:[(0,i.jsx)(K,{value:"",disabled:!0,children:"Tipo de Perfil"}),(0,i.jsx)(K,{value:"PUBLIC",children:"P\xfablico"}),(0,i.jsx)(K,{value:"PRIVATE",children:"Privado"})]})}),(0,i.jsx)(te,{placeholder:"phoneNumber",name:"phoneNumber",type:"input",as:N.Z}),(0,i.jsx)(te,{placeholder:"mobileNumber",name:"mobileNumber",type:"input",as:N.Z}),(0,i.jsx)(te,{placeholder:"address",name:"address",type:"input",as:N.Z}),(0,i.jsx)(te,{placeholder:"location",name:"location",type:"input",as:N.Z}),(0,i.jsx)(te,{placeholder:"postalCode",name:"postalCode",type:"input",as:N.Z}),(0,i.jsx)(N.Z,{id:"date",label:"Data nascimento",type:"date",defaultValue:_,onChange:function(e){return function(e){j((0,X.Z)(new Date(e.target.value),"dd/MM/yyyy")),console.log((0,X.Z)(new Date(e.target.value),"dd/MM/yyyy"))}(e)},InputLabelProps:{shrink:!0}}),(0,i.jsx)(q.Z,{className:$.formControl,children:(0,i.jsxs)(D.Z,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",displayEmpty:!0,open:p,onClose:z,onOpen:L,value:n,onChange:T,children:[(0,i.jsx)(K,{value:"",disabled:!0,children:"Selecionar G\xe9nero"}),(0,i.jsx)(K,{value:"Masculino",children:"Masculino"}),(0,i.jsx)(K,{value:"Feminino",children:"Feminino"}),(0,i.jsx)(K,{value:"N\xe3o Bin\xe1rio",children:"N\xe3o Bin\xe1rio"})]})}),(0,i.jsx)("div",{children:(0,i.jsx)(O.Z,{disabled:t,type:"submit",children:"save"})})]})}})]})})}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){return le.apply(this,arguments)}function le(){return(le=(0,s.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b().getJSON("token"),e.next=3,v.h.post(t,n).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){var e=(0,d.useContext)(f.V),t=(e.subEdit,e.setSubEdit,e.authenticated,(0,m.useRouter)()),n=(0,d.useState)(1),r=n[0],o=n[1],a=b().getJSON("token"),s=(0,x.ZP)("users/get/".concat(a.username),se),l=s.data,h=s.error,v=l;if(console.log(l),h)return(0,i.jsx)(y.Z,{});if(!l)return(0,i.jsx)("div",{children:"loading..."});return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:c().container,children:[(0,i.jsx)(u.default,{children:(0,i.jsx)("title",{children:"User"})}),(0,i.jsx)("div",{className:c().header,children:(0,i.jsx)(g.Z,{})}),(0,i.jsxs)("div",{className:c().banneravatar,children:[(0,i.jsx)("div",{className:c().banner,children:(0,i.jsx)("div",{className:c().avatar,children:(0,i.jsx)(Q.default,{loader:function(){return"https://storage.googleapis.com/imagens-helpin-hand/".concat(a.username,".jpg")},src:"me.png",placeholder:"blur",width:170,height:170,className:c().image})})}),(0,i.jsxs)("div",{className:c().userinfo,children:[(0,i.jsx)("h2",{children:v.name}),(0,i.jsx)("p",{children:(0,i.jsxs)("span",{children:["@",v.username]})}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{children:"Edit info"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("hr",{className:c().line}),(0,i.jsx)("div",{className:c().atividades,children:p.f.map((function(e,t){return(0,i.jsx)("button",{onClick:function(){return 1===(t=e.number)&&o(1),2===t&&o(2),void(3===t&&o(3));var t},children:(0,i.jsx)("span",{children:e.title})},t)}))}),(0,i.jsx)("div",{className:c().currentpage,children:(0,i.jsx)("h1",{children:r})}),(0,i.jsx)("div",{})]})]}),(0,i.jsx)("div",{className:c().other})]}),(0,i.jsxs)("div",{className:c().settingsTitle,children:[(0,i.jsx)("h1",{children:"Edit user"}),(0,i.jsx)("button",{onClick:function(){return t.push("/".concat(a.username))},children:(0,i.jsx)("p",{children:"\u2716"})})]}),(0,i.jsx)("div",{className:c().settings,children:(0,i.jsx)(oe,ie({},v))})]})}},5258:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/profile",function(){return n(8847)}])},7835:function(e){e.exports={container:"styles_container__2KDus",form:"styles_form__ehFVn",banneravatar:"styles_banneravatar__I7fb8",banner:"styles_banner__2BgPm",avatar:"styles_avatar__1Bt23",image:"styles_image__cwjMZ",imagepreview:"styles_imagepreview__3GgKS",input:"styles_input__14_s7",icon:"styles_icon__1SA9c",iconbutton:"styles_iconbutton__dpk89",PhotoCamera:"styles_PhotoCamera__a6cyx"}},3074:function(e){e.exports={container:"userprofile_container__3nwOn",header:"userprofile_header__2Q43s",banneravatar:"userprofile_banneravatar__2Cx3A",banner:"userprofile_banner__1jbNz",avatar:"userprofile_avatar__3ke1n",image:"userprofile_image__2gApa",userinfo:"userprofile_userinfo__3KTOJ",line:"userprofile_line__1PtLz",atividades:"userprofile_atividades___7tFw",other:"userprofile_other__2m1if",currentpage:"userprofile_currentpage__3a2j1",settingsTitle:"userprofile_settingsTitle__3WRxt",settings:"userprofile_settings__1g55x"}}},function(e){e.O(0,[774,351,433,155,996,474,607,458,605,652],(function(){return t=5258,e(e.s=t);var t}));var t=e.O();_N_E=t}]);