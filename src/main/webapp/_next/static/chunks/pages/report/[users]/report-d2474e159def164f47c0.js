(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4327,179],{36808:function(e,t,n){var r,s;!function(i){if(void 0===(s="function"===typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=s),!0,e.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function s(){}function i(t,n,i){if("undefined"!==typeof document){"number"===typeof(i=e({path:"/"},s.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var o in i)i[o]&&(c+="; "+o,!0!==i[o]&&(c+="="+i[o].split(";")[0]));return document.cookie=t+"="+n+c}}function a(e,n){if("undefined"!==typeof document){for(var s={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),o=c.slice(1).join("=");n||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var l=t(c[0]);if(o=(r.read||r)(o,l)||t(o),n)try{o=JSON.parse(o)}catch(u){}if(s[l]=o,e===l)break}catch(u){}}return e?s[e]:s}}return s.set=i,s.get=function(e){return a(e,!1)},s.getJSON=function(e){return a(e,!0)},s.remove=function(t,n){i(t,"",e(n,{expires:-1}))},s.defaults={},s.withConverter=n,s}((function(){}))}))},96245:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var s="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,s,i=0,a=0,c="";s=t.charAt(a++);~s&&(n=i%4?64*n+s:s,i++%4)?c+=String.fromCharCode(255&n>>(-2*i&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return c};function i(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(s(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return s(t)}}function a(e){this.message=e}a.prototype=new Error,a.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new a("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(i(e.split(".")[n]))}catch(e){throw new a("Invalid token specified: "+e.message)}}},33138:function(e,t,n){"use strict";n.d(t,{h:function(){return i},d:function(){return a}});var r=n(9669),s=n.n(r),i=s().create({baseURL:"https://helpinhand-318217.ey.r.appspot.com/rest/"}),a=s().create({baseURL:"https://helpinhand-318217.ey.r.appspot.com/gcs/helpinhand-318217.appspot.com/"})},50851:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(85893),s=n(7623),i=n.n(s),a=n(41664),c=n(7569),o=n(67294),l=n(36808),u=n.n(l),d=n(89583),p=n(60155),h=n(63750),f=n(96245);function m(){var e=(0,o.useContext)(c.V).handleLogout,t=(0,f.Z)(u().getJSON("token")),n=t.role,s=window.location.pathname.replace("/","");return(0,r.jsx)("div",{className:i().Container,children:(0,r.jsx)("div",{className:i().NavbarItems,children:(0,r.jsxs)("div",{className:i().Navbar,children:[(0,r.jsx)(a.default,{href:"/",children:(0,r.jsx)("h1",{className:i().title,children:"HxP"})}),(0,r.jsx)(a.default,{href:"/",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsxs)("span",{className:i().links,children:[(0,r.jsx)(p.wB6,{}),(0,r.jsx)("a",{className:i().linkname,children:" In\xedcio"})]})})}),"USER"==n?(0,r.jsx)(a.default,{href:"/".concat(t.iss),children:(0,r.jsx)("div",{className:s=="".concat(t)?"".concat(i().linkactive):"".concat(i().topics),children:(0,r.jsxs)("span",{className:i().links,children:[(0,r.jsx)(p.eTQ,{}),(0,r.jsx)("a",{className:i().linkname,children:" Perfil"})]})})}):null,(0,r.jsx)(a.default,{href:"/home",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsxs)("span",{className:i().links,children:[(0,r.jsx)(d.uQe,{}),(0,r.jsx)("a",{className:i().linkname,children:" Explorar"})]})})}),(0,r.jsx)(a.default,{href:"/organizations",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsxs)("span",{className:i().links,children:[(0,r.jsx)(h.rVC,{}),(0,r.jsx)("a",{className:i().linkname,children:" Organiza\xe7\xf5es"})]})})}),(0,r.jsx)(a.default,{href:"/createActivity",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsxs)("span",{className:i().links,children:[(0,r.jsx)(p.JEU,{}),(0,r.jsx)("a",{className:i().linkname,children:" Criar Atividade"})]})})}),(0,r.jsx)(a.default,{href:"/rankings",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsxs)("span",{className:i().links,children:[(0,r.jsx)(p.ndN,{}),(0,r.jsx)("a",{className:i().linkname,children:" Rankings"})]})})}),"BO"==n||"ADMIN"==n?(0,r.jsxs)("div",{children:[(0,r.jsx)(a.default,{href:"/global-users",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsx)("span",{className:i().links,children:(0,r.jsx)("a",{className:i().linkname,children:" Utilizadores "})})})}),(0,r.jsx)(a.default,{href:"/create-org",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsx)("span",{className:i().links,children:(0,r.jsx)("a",{className:i().linkname,children:" Criar Org"})})})})]}):null,"ADMIN"==n?(0,r.jsxs)("div",{children:[(0,r.jsx)(a.default,{href:"/create-bo",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsx)("span",{className:i().links,children:(0,r.jsx)("a",{className:i().linkname,children:" Criar Utilizador"})})})}),(0,r.jsx)(a.default,{href:"/bo-users",children:(0,r.jsx)("div",{className:i().topics,children:(0,r.jsx)("span",{className:i().links,children:(0,r.jsx)("a",{className:i().linkname,children:" Staff"})})})})]}):null,(0,r.jsx)("div",{className:i().topics,children:(0,r.jsxs)("span",{className:i().links,children:[(0,r.jsx)(p.p$f,{}),(0,r.jsx)("a",{onClick:function(){window.location.href="/",u().remove("token"),e()},className:i().linkname,children:" Logout"})]})})]})})})}},7569:function(e,t,n){"use strict";n.d(t,{V:function(){return h},H:function(){return f}});var r=n(809),s=n.n(r),i=n(85893),a=n(92447),c=n(67294),o=n(33138),l=n(11163),u=n(36808),d=n.n(u),p=n(96245),h=(0,c.createContext)({});function f(e){var t=e.children,n=(0,l.useRouter)(),r=(0,c.useState)(!1),u=r[0],f=r[1],m=(0,c.useState)(!0),v=m[0],x=m[1],j=(0,c.useState)(!1),y=j[0],N=j[1],g=(0,c.useState)(!1),w=g[0],k=g[1],b=(0,c.useState)([]),_=b[0],O=b[1],C=(0,c.useState)(""),S=C[0],E=C[1];function Z(){return(Z=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=(0,a.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.h.post("/authentication/login",t).then((function(e){if(e.data){d().set("token",JSON.stringify(e.data),{expires:1}),f(!0);(0,p.Z)(e.data)}})).catch((function(e){E(e.response.data),f(!1)}));case 2:n.push("/home");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){var e=d().get("token");f(!!e),x(!1)}),[]),v?(0,i.jsx)(i.Fragment,{children:" "}):(0,i.jsx)(h.Provider,{value:{authenticated:u,handleLogin:function(e){return I.apply(this,arguments)},handleLogout:function(){return Z.apply(this,arguments)},subAtivity:y,setSubAtivity:N,subEdit:w,setSubEdit:k,keywords:_,setKeywords:O,error:S,setError:E},children:t})}},62511:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(85893),s=n(809),i=n.n(s),a=n(92447),c=n(26265),o=n(64121),l=n(38347),u=n(25118),d=n(7784),p=n(282),h=n(19501),f=n(87798),m=n.n(f),v=n(11163),x=n(33138),j=n(36808),y=n.n(j);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.type,n=e.placeholder,s=(0,l.Z)(e,["type","placeholder"]),i=(0,u.U$)(s),a=(0,o.Z)(i,2),c=a[0],p=a[1],h=p.error&&p.touched?p.error:"";return(0,r.jsx)(d.Z,g(g({variant:"outlined",type:t,size:"small",placeholder:n},c),{},{helperText:h,error:!!h}))},k=function(e){var t=e.type,n=e.placeholder,s=(0,l.Z)(e,["type","placeholder"]),i=(0,u.U$)(s),a=(0,o.Z)(i,2),c=a[0],p=a[1],h=p.error&&p.touched?p.error:"";return(0,r.jsx)(d.Z,g(g({rows:3,variant:"outlined",multiline:!0,type:t,size:"small",placeholder:n},c),{},{helperText:h,error:!!h,className:m().multiline}))},b=h.Ry({reason:h.Z_().max(30,"O motivo deve ter no m\xe1ximo 30 car\xe1teres.").required("Obrigat\xf3rio"),description:h.Z_()});function _(e){var t=(0,v.useRouter)();function n(e){return s.apply(this,arguments)}function s(){return(s=(0,a.Z)(i().mark((function t(n){var r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y().getJSON("token"),s={headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"}},t.next=4,x.h.post(n,e.accused,s).then((function(e){return e.data}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,r.jsxs)("div",{className:m().container,children:[(0,r.jsx)("h1",{children:"Den\xfancia"}),(0,r.jsx)(u.J9,{initialValues:{reason:"",description:"",accused:e.accused,accuser:e.accuser},validationSchema:b,onSubmit:function(){var r=(0,a.Z)(i().mark((function r(s,a){var c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(c=a.setSubmitting)(!0),n("/users/report"),fetch("/api/report",{method:"post",body:JSON.stringify(s)}),c(!1),t.push("/".concat(e.accused));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return(0,r.jsx)(u.l0,{className:m().form,children:(0,r.jsxs)("div",{className:m().formtext,children:[(0,r.jsx)(w,{className:m().input,placeholder:"Motivo da den\xfancia",name:"reason",type:"input",as:d.Z}),(0,r.jsx)("br",{}),(0,r.jsx)(k,{placeholder:"Descri\xe7\xe3o da situa\xe7\xe3o",name:"description",type:"input",as:k}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{children:(0,r.jsx)(p.Z,{disabled:t,type:"submit",children:"Denunciar"})})]})})}})]})}var O=n(9008),C=n(50851),S=n(96245),E=n(83464),Z=n.n(E);function I(e){var t=window.location.pathname.split("/"),n=t[t.length-2],s=null;return y().getJSON("token")&&(s=(0,S.Z)(y().getJSON("token"))),(0,r.jsxs)("div",{className:Z().container,children:[(0,r.jsx)(O.default,{children:(0,r.jsx)("title",{children:"Den\xfancia"})}),(0,r.jsx)("div",{className:Z().header,children:(0,r.jsx)(C.Z,{})}),(0,r.jsx)("div",{className:Z().activityContainer,children:(0,r.jsx)(_,{accused:n,accuser:s.iss})})]})}},4437:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/report/[users]/report",function(){return n(62511)}])},7623:function(e){e.exports={NavbarItems:"styles_NavbarItems__1mok6",title:"styles_title__3zrvO",Navbar:"styles_Navbar__20cRx",logout:"styles_logout__2F-RO",topics:"styles_topics__3HcYs",links:"styles_links__WJ5oK",linkname:"styles_linkname__YKF9m"}},87798:function(e){e.exports={container:"styles_container__vzowq",form:"styles_form__3BP55",multiline:"styles_multiline__2dfCd",link:"styles_link__X4GGj"}},83464:function(e){e.exports={container:"createactivity_container__3H0RG",header:"createactivity_header__2c05S",activityContainer:"createactivity_activityContainer__3rFGJ"}},11163:function(e,t,n){e.exports=n(72441)},44405:function(e,t,n){"use strict";n.d(t,{w_:function(){return l}});var r=n(67294),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(s),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function o(e){return e&&e.map((function(e,t){return r.createElement(e.tag,a({key:t},e.attr),o(e.child))}))}function l(e){return function(t){return r.createElement(u,a({attr:a({},e.attr)},t),o(e.child))}}function u(e){var t=function(t){var n,s=e.attr,i=e.size,o=e.title,l=c(e,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,l,{className:n,style:a(a({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==i?r.createElement(i.Consumer,null,(function(e){return t(e)})):t(s)}},14453:function(){}},function(e){e.O(0,[9774,5445,260,2013,7925,3433,7321,3996,8540,6751],(function(){return t=4437,e(e.s=t);var t}));var t=e.O();_N_E=t}]);