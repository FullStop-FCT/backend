(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7676,179],{33138:function(e,t,n){"use strict";n.d(t,{h:function(){return r},d:function(){return i}});var a=n(9669),s=n.n(a),r=s().create({baseURL:"https://helpinhand-318217.ey.r.appspot.com/rest/"}),i=s().create({baseURL:"https://helpinhand-318217.ey.r.appspot.com/gcs/helpinhand-318217.appspot.com/"})},50851:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var a=n(85893),s=n(7623),r=n.n(s),i=n(41664),c=n(7569),o=n(67294),l=n(36808),u=n.n(l),d=n(89583),p=n(60155),h=n(63750),m=n(96245);function f(){var e=(0,o.useContext)(c.V).handleLogout,t=(0,m.Z)(u().getJSON("token")),n=t.role,s=window.location.pathname.replace("/","");return(0,a.jsx)("div",{className:r().Container,children:(0,a.jsx)("div",{className:r().NavbarItems,children:(0,a.jsxs)("div",{className:r().Navbar,children:[(0,a.jsx)(i.default,{href:"/",children:(0,a.jsx)("h1",{className:r().title,children:"HxP"})}),(0,a.jsx)(i.default,{href:"/",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsxs)("span",{className:r().links,children:[(0,a.jsx)(p.wB6,{}),(0,a.jsx)("a",{className:r().linkname,children:" In\xedcio"})]})})}),"USER"==n?(0,a.jsx)(i.default,{href:"/".concat(t.iss),children:(0,a.jsx)("div",{className:s=="".concat(t)?"".concat(r().linkactive):"".concat(r().topics),children:(0,a.jsxs)("span",{className:r().links,children:[(0,a.jsx)(p.eTQ,{}),(0,a.jsx)("a",{className:r().linkname,children:" Perfil"})]})})}):null,(0,a.jsx)(i.default,{href:"/home",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsxs)("span",{className:r().links,children:[(0,a.jsx)(d.uQe,{}),(0,a.jsx)("a",{className:r().linkname,children:" Explorar"})]})})}),(0,a.jsx)(i.default,{href:"/organizations",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsxs)("span",{className:r().links,children:[(0,a.jsx)(h.rVC,{}),(0,a.jsx)("a",{className:r().linkname,children:" Organiza\xe7\xf5es"})]})})}),(0,a.jsx)(i.default,{href:"/createActivity",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsxs)("span",{className:r().links,children:[(0,a.jsx)(p.JEU,{}),(0,a.jsx)("a",{className:r().linkname,children:" Criar Atividade"})]})})}),(0,a.jsx)(i.default,{href:"/rankings",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsxs)("span",{className:r().links,children:[(0,a.jsx)(p.ndN,{}),(0,a.jsx)("a",{className:r().linkname,children:" Rankings"})]})})}),"BO"==n||"ADMIN"==n?(0,a.jsxs)("div",{children:[(0,a.jsx)(i.default,{href:"/global-users",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsx)("span",{className:r().links,children:(0,a.jsx)("a",{className:r().linkname,children:" Utilizadores "})})})}),(0,a.jsx)(i.default,{href:"/create-org",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsx)("span",{className:r().links,children:(0,a.jsx)("a",{className:r().linkname,children:" Criar Org"})})})})]}):null,"ADMIN"==n?(0,a.jsxs)("div",{children:[(0,a.jsx)(i.default,{href:"/create-bo",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsx)("span",{className:r().links,children:(0,a.jsx)("a",{className:r().linkname,children:" Criar Utilizador"})})})}),(0,a.jsx)(i.default,{href:"/bo-users",children:(0,a.jsx)("div",{className:r().topics,children:(0,a.jsx)("span",{className:r().links,children:(0,a.jsx)("a",{className:r().linkname,children:" Staff"})})})})]}):null,(0,a.jsx)("div",{className:r().topics,children:(0,a.jsxs)("span",{className:r().links,children:[(0,a.jsx)(p.p$f,{}),(0,a.jsx)("a",{onClick:function(){window.location.href="/",u().remove("token"),e()},className:r().linkname,children:" Logout"})]})})]})})})}},91945:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(85893),s=n(53843);function r(){return(0,a.jsx)("div",{children:(0,a.jsx)(s.te,{})})}},43281:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(85893),s=n(11163),r=n(36808),i=n.n(r);function c(){var e=(0,s.useRouter)();return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Your session has expired"}),(0,a.jsx)("button",{onClick:function(){i().remove("token"),i().remove("user"),e.push("/login")},children:"Login in"})]})})}},7569:function(e,t,n){"use strict";n.d(t,{V:function(){return h},H:function(){return m}});var a=n(809),s=n.n(a),r=n(85893),i=n(92447),c=n(67294),o=n(33138),l=n(11163),u=n(36808),d=n.n(u),p=n(96245),h=(0,c.createContext)({});function m(e){var t=e.children,n=(0,l.useRouter)(),a=(0,c.useState)(!1),u=a[0],m=a[1],f=(0,c.useState)(!0),y=f[0],v=f[1],x=(0,c.useState)(!1),g=x[0],j=x[1],b=(0,c.useState)(!1),_=b[0],N=b[1],w=(0,c.useState)([]),k=w[0],T=w[1],O=(0,c.useState)(""),S=O[0],Z=O[1];function D(){return(D=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.h.post("/authentication/login",t).then((function(e){if(e.data){d().set("token",JSON.stringify(e.data),{expires:1}),m(!0);(0,p.Z)(e.data)}})).catch((function(e){Z(e.response.data),m(!1)}));case 2:n.push("/home");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){var e=d().get("token");m(!!e),v(!1)}),[]),y?(0,r.jsx)(r.Fragment,{children:" "}):(0,r.jsx)(h.Provider,{value:{authenticated:u,handleLogin:function(e){return P.apply(this,arguments)},handleLogout:function(){return D.apply(this,arguments)},subAtivity:g,setSubAtivity:j,subEdit:_,setSubEdit:N,keywords:k,setKeywords:T,error:S,setError:Z},children:t})}},90713:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var a=n(85893),s=n(809),r=n.n(s),i=n(92447),c=n(26265),o=n(64121),l=n(38347),u=n(16215),d=n.n(u),p=n(50851),h=n(25118),m=n(36808),f=n.n(m),y=n(33138),v=n(35723),x=n(19501),g=n(91945),j=n(43281),b=n(25675),_=n(89744),N=n(67294),w=["places"],k={width:"20rem",height:"15rem",borderRadius:"1rem"},T={styles:[{featureType:"administrative.country",elementType:"labels.text",stylers:[{lightness:"29"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{lightness:"-12"},{color:"#796340"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{lightness:"15"},{saturation:"15"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{visibility:"on"},{color:"#fbf5ed"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{visibility:"on"},{color:"#fbf5ed"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.attraction",elementType:"all",stylers:[{visibility:"on"},{lightness:"30"},{saturation:"-41"},{gamma:"0.84"}]},{featureType:"poi.attraction",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.medical",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#b0e9ac"},{visibility:"on"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{hue:"#68ff00"},{lightness:"-24"},{gamma:"1.59"}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",elementType:"geometry",stylers:[{saturation:"10"},{color:"#c3eb9a"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"},{lightness:"30"},{color:"#e7ded6"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"},{saturation:"-39"},{lightness:"28"},{gamma:"0.86"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe523"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{saturation:"0"},{gamma:"1.44"},{color:"#fbc28b"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"on"},{saturation:"-40"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fed7a5"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"on"},{gamma:"1.54"},{color:"#fbe38b"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{visibility:"on"},{gamma:"2.62"},{lightness:"10"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"on"},{weight:"0.50"},{gamma:"1.04"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#dee3fb"}]},{featureType:"water",elementType:"geometry",stylers:[{saturation:"46"},{color:"#a4e1ff"}]}],disableDefaultUI:!0,zoomControl:!0};function O(e){var t=[],n=(0,N.useState)(null),s=n[0],r=n[1],i=(0,N.useState)(!1);i[0],i[1];if(e.waypoints.length>0){console.log("waypoints",e.waypoints);for(var c=0;c<e.waypoints.length;c+=2)console.log(e.waypoints[c]),t.push({location:{lat:parseFloat(e.waypoints[c]),lng:parseFloat(e.waypoints[c+1])}});console.log("points",t)}var o=parseFloat(e.lat),l=parseFloat(e.long),u={lat:o,lng:l},d=(0,_.Db)({googleMapsApiKey:"AIzaSyCjPbKuYh5RpnNU0MmVJmhI1kcINuug5Jo",libraries:w}),p=d.isLoaded,h=d.loadError,m=(0,N.useRef)(null),f=(0,N.useCallback)((function(e){m.current=e}),[]);return h?(0,a.jsx)("div",{children:" Error Loading Google Maps"}):p?(0,a.jsx)("div",{children:e.waypoints.length>0?(0,a.jsxs)(_.b6,{mapContainerStyle:k,zoom:9,center:u,options:T,onLoad:f,children:[0===t.length||null!==s?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(_.mF,{options:{origin:t[0],destination:t[t.length-1],travelMode:"WALKING",waypoints:t},callback:!s&&function(e){null!==e&&("OK"===e.status?r(e):console.log("OVER_QUERY_LIMIT "))}}),s&&(0,a.jsx)(_.tH,{options:{directions:s}})]}):(0,a.jsx)(_.b6,{mapContainerStyle:k,zoom:16,center:u,options:T,onLoad:f,children:(0,a.jsx)(_.Jx,{position:{lat:o,lng:l}})})}):(0,a.jsx)("div",{children:"Loading..."})}var S=n(41664),Z=n(22605),D=n(96245),P=n(47516),C=n(58533),E=n(73291),M=n.n(E),L=n(11163);function R(e){var t=(0,N.useState)(null),n=t[0],s=t[1],c=f().getJSON("token"),o=(0,D.Z)(c);(0,N.useEffect)((function(){function t(){return(t=(0,i.Z)(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{Authorization:"Bearer "+c}},t.next=3,y.h.get("users/get/".concat(e.author),n).then((function(e){return s(e.data.image)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var l=(0,L.useRouter)(),u=function(){var t=(0,i.Z)(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{Authorization:"Bearer "+c}},t.next=3,y.h.delete("comments/delete/".concat(e.activityID,"/").concat(e.receiver,"/").concat(e.msgID),n).then((function(e){return s(e.data.image)}));case 3:l.reload();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:M().comentario,children:[(0,a.jsxs)("div",{className:M().author,children:[(0,a.jsx)(b.default,{loader:function(){return"https://storage.googleapis.com/helpinhand-318217.appspot.com/".concat(n)},src:"me.png",placeholder:"blur",width:60,height:60,className:M().image}),(0,a.jsx)("p",{children:e.author})]}),(0,a.jsxs)("div",{className:M().coment,children:[(0,a.jsx)("p",{children:e.message}),e.image&&(0,a.jsx)(b.default,{loader:function(){return"https://storage.googleapis.com/helpinhand-318217.appspot.com/".concat(e.image)},src:"me.png",placeholder:"blur",width:400,height:180,className:M().imagemcoment})]}),e.author===o.iss&&(0,a.jsx)("button",{onClick:u,children:"apagar"})]})}var z=n(49453),I=n.n(z);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=f().getJSON("token"),n=(0,N.useState)(null),s=n[0],c=n[1],o=(0,N.useState)([]),l=o[0],u=o[1],d=(0,N.useState)(!0),p=d[0],h=d[1],m={headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}};function v(){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetch"),t.next=3,y.h.post("comments/list/".concat(e.ID,"/").concat(e.activityOwner),s,m).then((function(e){0!==e.data.results.length?(c(e.data.cursorString),u((function(t){return t.concat(e.data.results)})),console.log(s)):h(!1)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,N.useEffect)((function(){v()}),[]),(0,a.jsx)("div",{id:"scrollableDiv",className:I().scrollableDiv,children:(0,a.jsx)(C.Z,{dataLength:5*l.length,next:v,hasMore:p,loader:(0,a.jsx)("h4",{children:"Loading..."}),endMessage:(0,a.jsx)("p",{style:{textAlign:"center"},children:(0,a.jsx)("b",{children:"endlist"})}),scrollableTarget:"scrollableDiv",children:l?l.map((function(e,t){return(0,N.createElement)(R,F(F({},e),{},{key:t}))})):(0,a.jsx)(a.Fragment,{})})})}var J=n(7784),V=n(282);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(){var e=(0,L.useRouter)(),t=window.location.pathname.replace("/","").split("/"),n=t[1],s=t[2],c=(0,N.useState)([]),u=c[0],m=c[1],_=(0,N.useState)(!1),w=_[0],k=_[1],T=(0,N.useState)(null),C=T[0],E=T[1],M=(0,N.useState)(null),R=M[0],z=M[1],I=(0,N.useState)(null),A=I[0],F=I[1],K=function(e){var t=e.type,n=e.placeholder,s=(0,l.Z)(e,["type","placeholder"]),r=(0,h.U$)(s),i=(0,o.Z)(r,2),c=i[0],u=i[1],p=u.error&&u.touched?u.error:"";return(0,a.jsx)(J.Z,Y(Y({rows:3,variant:"outlined",multiline:!0,type:t,size:"small",placeholder:n},c),{},{helperText:p,error:!!p,className:d().multiline}))};function B(){return(B=(0,i.Z)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.h.get("activities/compute/".concat(C.ID,"/").concat(C.activityTime),$).then((function(e){return console.log(e.data)}));case 2:e.reload();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var H=x.Ry({comment:x.Z_().max(100,"A descri\xe7\xe3o deve conter no maximo 100 car\xe1teres.").required("Obrigat\xf3rio")});function Q(){return(Q=(0,i.Z)(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.h.get(t,$).then((function(e){return E(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=(0,i.Z)(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.h.get(t,$).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=(0,i.Z)(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.h.get(t,$).then((function(e){return m(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=f().getJSON("token"),W=(0,D.Z)(G),$={headers:{Authorization:"Bearer "+G,"Content-Type":"application/json"}},ee=(0,v.ZP)("users/get/".concat(n),(function(e){return X.apply(this,arguments)})),te=ee.data,ne=ee.error;function ae(){return(ae=(0,i.Z)(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=W.iss,w){e.next=7;break}return e.next=4,y.h.post("activities/join/".concat(s,"/").concat(n),t,$).catch((function(e){return console.log(e)}));case 4:k(!0),e.next=10;break;case 7:return e.next=9,y.h.post("activities/leave/".concat(s,"/").concat(n),t,$);case 9:k(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,N.useEffect)((function(){function e(){return(e=(0,i.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.h.get("activities/isjoined/".concat(s),$).then((function(e){return k(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){Q.apply(this,arguments)}("activities/get/".concat(s,"/").concat(n)),function(){e.apply(this,arguments)}(),console.log(C),function(e){q.apply(this,arguments)}("activities/listJoinedUsers/".concat(s))}),[w]),!te||!C)return(0,a.jsx)(g.Z,{});if(ne)return(0,a.jsx)(j.Z,{});var se={lat:C.lat,long:C.lon,waypoints:C.waypoints};return(0,a.jsxs)("div",{className:d().main,children:[(0,a.jsx)("div",{className:d().header,children:(0,a.jsx)(p.Z,{})}),(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsxs)("div",{className:d().organizer,children:[(0,a.jsxs)("div",{className:d().org_info,children:[(0,a.jsx)("div",{className:d().avatar,children:(0,a.jsx)(S.default,{href:"/".concat(C.activityOwner),children:(0,a.jsx)("a",{children:(0,a.jsx)(b.default,{loader:function(){return"https://storage.googleapis.com/helpinhand-318217.appspot.com/".concat(te.image)},src:"me.png",placeholder:"blur",width:70,height:70,className:d().image})})})}),(0,a.jsx)(S.default,{href:"/".concat(C.activityOwner),children:(0,a.jsx)("a",{children:C.activityOwner})})]}),(0,a.jsxs)("div",{className:d().detailmap,children:[(0,a.jsxs)("div",{className:d().details,children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{className:d().bold,children:"Data: "}),(0,Z.Z)(new Date(C.date),"dd/MM/yyyy")]}),(0,a.jsxs)("p",{children:[" ",(0,a.jsx)("a",{className:d().bold,children:"Local: "}),"  ",C.location]}),(0,a.jsxs)("p",{children:[" ",(0,a.jsx)("a",{className:d().bold,children:"Categoria: "}),"  ",C.category]}),(0,a.jsxs)("p",{children:[" ",(0,a.jsx)("a",{className:d().bold,children:"Vagas preenchidas: "}),"  ",C.participants+"/"+C.totalParticipants]}),(0,a.jsx)("div",{className:d().description,children:(0,a.jsxs)("p",{className:d().desc,children:[" ",(0,a.jsx)("a",{className:d().bold,children:"Descri\xe7\xe3o: "}),C.description]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("a",{className:d().voluntariados,children:["             ","Voluntariados: "]}),(0,a.jsx)("br",{}),u.map((function(e,t){return(0,a.jsx)("div",{children:(0,a.jsxs)("li",{className:d().username,children:[(0,a.jsx)("a",{href:"/".concat(e),children:e}),(0,a.jsx)("br",{})]})},t)}))]})]}),(0,a.jsxs)("div",{className:d().map,children:[(0,a.jsx)(O,Y({},se)),!1===!w&&C.participants===C.totalParticipants||W.iss===C.activityOwner||(0,Z.Z)(new Date(C.date),"dd/MM/yyyy")<(0,Z.Z)(Date.now(),"dd/MM/yyyy")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("button",{onClick:function(){return ae.apply(this,arguments)},children:w?"Cancelar":"Participar"}),(0,Z.Z)(new Date(C.date),"dd/MM/yyyy")<(0,Z.Z)(Date.now(),"dd/MM/yyyy")&&C.activityOwner===W.iss&&!1===C.done?(0,a.jsxs)("button",{className:d().addhours,onClick:function(){return B.apply(this,arguments)},children:["Atribuir Horas aos participantes ",C.done]}):(0,a.jsx)(a.Fragment,{})]})]})]}),(0,a.jsxs)("div",{className:d().areacomentarios,children:[(0,a.jsx)(h.J9,{initialValues:{comment:""},validationSchema:H,onSubmit:function(){var t=(0,i.Z)(r().mark((function t(a,i){var c,o,l,u,d,p;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=i.setSubmitting,o=i.resetForm,c(!0),l="",null===R){t.next=9;break}return(u=new FormData).append("image",R),l=W.iss+Date.now()+n+".jpg",t.next=9,y.d.post(l,u).then((function(e){console.log("upload")})).catch((function(e){console.log(e)}));case 9:return d=JSON.stringify({message:a.comment,image:l}),p={headers:{Authorization:"Bearer "+G,"Content-Type":"application/json"}},t.next=13,y.h.post("comments/insert/".concat(s,"/").concat(n),d,p).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));case 13:z(null),o(),F(""),c(!1),e.reload();case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return(0,a.jsx)(h.l0,{className:d().form,children:(0,a.jsxs)("div",{className:d().formtext,children:[(0,a.jsx)(K,{placeholder:"Escreva um coment\xe1rio",name:"comment",type:"input",as:K}),(0,a.jsx)(V.Z,{disabled:t,type:"submit",children:"Criar "})]})})}}),(0,a.jsx)("div",{className:d().send,children:(0,a.jsxs)("div",{className:d().addphoto,children:[(0,a.jsx)("input",{accept:"image/*",className:d().input,id:"icon-button-file",type:"file",onChange:function(e){z(e.target.files[0]),F(URL.createObjectURL(e.target.files[0]))}}),(0,a.jsxs)("label",{htmlFor:"icon-button-file",children:["upload",(0,a.jsx)(P.Ek4,{})]}),(0,a.jsx)("img",{src:A,className:d().imagepreview})]})})]}),(0,a.jsx)("div",{className:d().listcomment,children:(0,a.jsx)(U,Y({},C))})]})]})}},55590:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/activity/[user]/[activity]",function(){return n(90713)}])},73291:function(e){e.exports={comentario:"styles_comentario__3fPK5",author:"styles_author__2ldLE",image:"styles_image__1SX8u",coment:"styles_coment__2pjM0"}},7623:function(e){e.exports={NavbarItems:"styles_NavbarItems__1mok6",title:"styles_title__3zrvO",Navbar:"styles_Navbar__20cRx",logout:"styles_logout__2F-RO",topics:"styles_topics__3HcYs",links:"styles_links__WJ5oK",linkname:"styles_linkname__YKF9m"}},49453:function(e){e.exports={scrollableDiv:"styles_scrollableDiv__1ZPaQ"}},16215:function(e){e.exports={main:"activity_main__1tiOc",header:"activity_header__3hQYY",container:"activity_container__3qSYV",organizer:"activity_organizer__1-5tN",username:"activity_username__1wdMi",voluntariados:"activity_voluntariados__2PVRs",detailmap:"activity_detailmap__1SHCZ",map:"activity_map__3baaM",addhours:"activity_addhours__EPlT9",description:"activity_description__3vUYi",org_info:"activity_org_info__3y9iI",avatar:"activity_avatar__1gciN",image:"activity_image__2fl8b",details:"activity_details__2zxD-",desc:"activity_desc__3XFyg",bold:"activity_bold__1t-PX",areacomentarios:"activity_areacomentarios__1J_pC",textarea:"activity_textarea__3nkcU",input:"activity_input__1ylQV",send:"activity_send__1XvmN",addphoto:"activity_addphoto__3lL6a",imagepreview:"activity_imagepreview__2-R3K",listcomment:"activity_listcomment__1gKao"}},14453:function(){}},function(e){e.O(0,[9774,5445,260,2013,3874,7925,3433,7321,8540,6751,7399,3843,9744,2605,7825],(function(){return t=55590,e(e.s=t);var t}));var t=e.O();_N_E=t}]);