(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676,179],{3138:function(e,t,n){"use strict";n.d(t,{h:function(){return r},d:function(){return i}});var a=n(9669),s=n.n(a),r=s().create({baseURL:"https://helpinhand-318217.ey.r.appspot.com/rest/"}),i=s().create({baseURL:"https://helpinhand-318217.ey.r.appspot.com/gcs/helpinhand-318217.appspot.com/"})},851:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var a=n(5893),s=n(7294),r=n(7623),i=n.n(r),l=n(1664),o=n(7569),c=n(6808),u=n.n(c),p=n(9583),d=n(155),y=n(3750);function f(){var e=(0,s.useState)(!1),t=(e[0],e[1],(0,s.useContext)(o.V).handleLogout),n=u().get("user");return(0,a.jsx)("div",{className:i().Container,children:(0,a.jsxs)("div",{className:i().NavbarItems,children:[(0,a.jsx)(l.default,{href:"/",children:(0,a.jsx)("h1",{children:"Helpin'Hand"})}),(0,a.jsxs)("div",{className:i().Navbar,children:[(0,a.jsx)(l.default,{href:"/",children:(0,a.jsx)("div",{className:i().topics,children:(0,a.jsxs)("span",{className:i().links,children:[(0,a.jsx)(d.wB6,{}),(0,a.jsx)("a",{className:i().linkname,children:" In\xedcio"})]})})}),(0,a.jsx)(l.default,{href:"/".concat(n),children:(0,a.jsx)("div",{className:i().topics,children:(0,a.jsxs)("span",{className:i().links,children:[(0,a.jsx)(d.eTQ,{}),(0,a.jsx)("a",{className:i().linkname,children:" Perfil"})]})})}),(0,a.jsx)(l.default,{href:"/home",children:(0,a.jsx)("div",{className:i().topics,children:(0,a.jsxs)("span",{className:i().links,children:[(0,a.jsx)(p.uQe,{}),(0,a.jsx)("a",{className:i().linkname,children:" Explorar"})]})})}),(0,a.jsx)(l.default,{href:"/organizations",children:(0,a.jsx)("div",{className:i().topics,children:(0,a.jsxs)("span",{className:i().links,children:[(0,a.jsx)(y.rVC,{}),(0,a.jsx)("a",{className:i().linkname,children:" Organiza\xe7\xf5es"})]})})}),(0,a.jsx)(l.default,{href:"/createActivity",children:(0,a.jsx)("div",{className:i().topics,children:(0,a.jsxs)("span",{className:i().links,children:[(0,a.jsx)(d.JEU,{}),(0,a.jsx)("a",{className:i().linkname,children:" Criar Atividade"})]})})}),(0,a.jsx)(l.default,{href:"/rankings",children:(0,a.jsx)("div",{className:i().topics,children:(0,a.jsxs)("span",{className:i().links,children:[(0,a.jsx)(d.ndN,{}),(0,a.jsx)("a",{className:i().linkname,children:" Rankings"})]})})}),(0,a.jsx)("button",{onClick:function(){return t()},children:"Logout"})]})]})})}},1945:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(5893),s=n(3843);function r(){return(0,a.jsx)("div",{children:(0,a.jsx)(s.te,{})})}},3281:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(5893),s=n(1163),r=n(6808),i=n.n(r);function l(){var e=(0,s.useRouter)();return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Your session has expired"}),(0,a.jsx)("button",{onClick:function(){i().remove("token"),i().remove("user"),e.push("/login")},children:"Login in"})]})})}},7569:function(e,t,n){"use strict";n.d(t,{V:function(){return y},H:function(){return f}});var a=n(809),s=n.n(a),r=n(5893),i=n(2447),l=n(7294),o=n(3138),c=n(1163),u=n(6808),p=n.n(u),d=n(1945),y=(0,l.createContext)({});function f(e){var t=e.children,n=(0,c.useRouter)(),a=(0,l.useState)(!1),u=a[0],f=a[1],h=(0,l.useState)(!0),m=h[0],v=h[1],x=(0,l.useState)(!1),b=x[0],j=x[1],g=(0,l.useState)(!1),_=g[0],T=g[1],N=(0,l.useState)([]),k=N[0],w=N[1];(0,l.useEffect)((function(){var e=p().get("token");f(!!e),v(!1)}),[]);function O(){return(O=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!1),p().remove("token"),p().remove("user"),window.location.href="/";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.h.post("authentication/login",t).then((function(e){e.data&&(console.log(e),p().set("token",JSON.stringify(e.data)),p().set("user",e.data.username),f(!0),n.push("/".concat(e.data.username)))})).catch((function(e){console.log(e),f(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return m?(0,r.jsx)(d.Z,{}):(0,r.jsx)(y.Provider,{value:{authenticated:u,handleLogin:function(e){return P.apply(this,arguments)},handleLogout:function(){return O.apply(this,arguments)},subAtivity:b,setSubAtivity:j,subEdit:_,setSubEdit:T,keywords:k,setKeywords:w},children:t})}},2913:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var a=n(809),s=n.n(a),r=n(5893),i=n(6265),l=n(2447),o=n(6215),c=n.n(o),u=n(851),p=n(6808),d=n.n(p),y=n(3138),f=n(5723),h=n(1945),m=n(3281),v=n(5675),x=n(9744),b=n(7294),j=["places"],g={width:"20rem",height:"15rem",borderRadius:"1rem"},_={styles:[{featureType:"administrative.country",elementType:"labels.text",stylers:[{lightness:"29"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{lightness:"-12"},{color:"#796340"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{lightness:"15"},{saturation:"15"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{visibility:"on"},{color:"#fbf5ed"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{visibility:"on"},{color:"#fbf5ed"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.attraction",elementType:"all",stylers:[{visibility:"on"},{lightness:"30"},{saturation:"-41"},{gamma:"0.84"}]},{featureType:"poi.attraction",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.medical",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#b0e9ac"},{visibility:"on"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{hue:"#68ff00"},{lightness:"-24"},{gamma:"1.59"}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",elementType:"geometry",stylers:[{saturation:"10"},{color:"#c3eb9a"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"},{lightness:"30"},{color:"#e7ded6"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"},{saturation:"-39"},{lightness:"28"},{gamma:"0.86"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe523"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{saturation:"0"},{gamma:"1.44"},{color:"#fbc28b"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"on"},{saturation:"-40"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fed7a5"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"on"},{gamma:"1.54"},{color:"#fbe38b"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{visibility:"on"},{gamma:"2.62"},{lightness:"10"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"on"},{weight:"0.50"},{gamma:"1.04"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#dee3fb"}]},{featureType:"water",elementType:"geometry",stylers:[{saturation:"46"},{color:"#a4e1ff"}]}],disableDefaultUI:!0,zoomControl:!0};function T(e){var t=parseFloat(e.lat),n=parseFloat(e.long),a={lat:t,lng:n},s=(0,x.Db)({googleMapsApiKey:"AIzaSyCjPbKuYh5RpnNU0MmVJmhI1kcINuug5Jo",libraries:j}),i=s.isLoaded,l=s.loadError,o=(0,b.useRef)(null),c=(0,b.useCallback)((function(e){o.current=e}),[]);return l?(0,r.jsx)("div",{children:" Error Loading Google Maps"}):i?(0,r.jsx)("div",{children:(0,r.jsx)(x.b6,{mapContainerStyle:g,zoom:16,center:a,options:_,onLoad:c,children:(0,r.jsx)(x.Jx,{position:{lat:t,lng:n}})})}):(0,r.jsx)("div",{children:"Loading..."})}var N=n(1664),k=n(2605);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){var e=window.location.pathname.replace("/","").split("/"),t=e[1],n=e[2],a=(0,b.useState)(!1),i=a[0],o=a[1];function p(){return(p=(0,l.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.h.post(t,j).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,l.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.h.get(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=d().getJSON("token"),g=(0,f.ZP)("activities/get/".concat(n,"/").concat(t),(function(e){return p.apply(this,arguments)})),_=g.data,w=g.error,P=(0,f.ZP)("users/self/".concat(t),(function(e){return x.apply(this,arguments)})),C=P.data,S=P.error;function Z(){return(Z=(0,l.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=6;break}return e.next=3,y.h.post("activities/join/".concat(n,"/").concat(t),j);case 3:o(!0),e.next=9;break;case 6:return e.next=8,y.h.post("activities/leave/".concat(n,"/").concat(t),j);case 8:o(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,b.useEffect)((function(){y.h.post("activities/isjoined/".concat(n),j).then((function(e){return o(e.data)}))}),[]),!_||!C)return(0,r.jsx)(h.Z,{});if(w||S)return(0,r.jsx)(m.Z,{});var E={lat:_.lat,long:_.lon};return(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)("div",{className:c().header,children:(0,r.jsx)(u.Z,{})}),(0,r.jsxs)("div",{className:c().organizer,children:[(0,r.jsxs)("div",{className:c().org_info,children:[(0,r.jsx)("div",{className:c().avatar,children:(0,r.jsx)(N.default,{href:"/".concat(_.activityOwner),children:(0,r.jsx)("a",{children:(0,r.jsx)(v.default,{loader:function(){return"https://storage.googleapis.com/helpinhand-318217.appspot.com/".concat(C.image)},src:"me.png",placeholder:"blur",width:70,height:70,className:c().image})})})}),(0,r.jsx)(N.default,{href:"/".concat(_.activityOwner),children:(0,r.jsx)("a",{children:_.activityOwner})})]}),(0,r.jsxs)("div",{className:c().detailmap,children:[(0,r.jsxs)("div",{className:c().details,children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("a",{className:c().bold,children:"Data: "}),(0,k.Z)(new Date(_.date),"dd/MM/yyyy")]}),(0,r.jsxs)("p",{children:[" ",(0,r.jsx)("a",{className:c().bold,children:"Local: "}),"  ",_.location]}),(0,r.jsxs)("p",{children:[" ",(0,r.jsx)("a",{className:c().bold,children:"Categoria: "}),"  ",_.category]}),(0,r.jsxs)("p",{children:[" ",(0,r.jsx)("a",{className:c().bold,children:"Vagas preenchidas: "}),"  ",_.participants+"/"+_.totalParticipants]}),(0,r.jsx)("div",{className:c().description,children:(0,r.jsxs)("p",{className:c().desc,children:[" ",(0,r.jsx)("a",{className:c().bold,children:"Descri\xe7\xe3o: "}),_.description]})})]}),(0,r.jsxs)("div",{className:c().map,children:[(0,r.jsx)(T,O({},E)),!1===!i&&_.participants===_.totalParticipants||_.activityOwner===j.username?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("button",{onClick:function(){return Z.apply(this,arguments)},children:i?"Cancelar":"Participar"})]})]})]})]})}},5590:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/activity/[user]/[activity]",function(){return n(2913)}])},7623:function(e){e.exports={NavbarItems:"styles_NavbarItems__1mok6",Navbar:"styles_Navbar__20cRx",topics:"styles_topics__3HcYs",links:"styles_links__WJ5oK",linkname:"styles_linkname__YKF9m"}},6215:function(e){e.exports={container:"activity_container__3qSYV",header:"activity_header__3hQYY",organizer:"activity_organizer__1-5tN",detailmap:"activity_detailmap__1SHCZ",map:"activity_map__3baaM",description:"activity_description__3vUYi",org_info:"activity_org_info__3y9iI",avatar:"activity_avatar__1gciN",image:"activity_image__2fl8b",details:"activity_details__2zxD-",desc:"activity_desc__3XFyg",bold:"activity_bold__1t-PX"}},4453:function(){}},function(e){e.O(0,[774,445,260,13,351,433,321,15,723,605,744,704],(function(){return t=5590,e(e.s=t);var t}));var t=e.O();_N_E=t}]);