(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[110,179],{6808:function(e,t,n){var r,a;!function(i){if(void 0===(a="function"===typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=a),!0,e.exports=i(),!!0){var o=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=o,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function a(){}function i(t,n,i){if("undefined"!==typeof document){"number"===typeof(i=e({path:"/"},a.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!==typeof document){for(var a={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var s=i[o].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(u){}if(a[c]=l,e===c)break}catch(u){}}return e?a[e]:a}}return a.set=i,a.get=function(e){return o(e,!1)},a.getJSON=function(e){return o(e,!0)},a.remove=function(t,n){i(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))}))},6071:function(e,t,n){"use strict";var r=n(3848),a=n(9448);t.default=void 0;var i=a(n(7294)),o=n(1689),s=n(2441),l=n(5749),c={};function u(e,t,n,r){if(e&&(0,o.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;c[t+"%"+n+(a?"%"+a:"")]=!0}}var p=function(e){var t=!1!==e.prefetch,n=(0,s.useRouter)(),a=n&&n.pathname||"/",p=i.default.useMemo((function(){var t=(0,o.resolveHref)(a,e.href,!0),n=r(t,2),i=n[0],s=n[1];return{href:i,as:e.as?(0,o.resolveHref)(a,e.as):s||i}}),[a,e.href,e.as]),f=p.href,d=p.as,y=e.children,v=e.replace,m=e.shallow,h=e.scroll,g=e.locale;"string"===typeof y&&(y=i.default.createElement("a",null,y));var b=i.Children.only(y),x=b&&"object"===typeof b&&b.ref,T=(0,l.useIntersection)({rootMargin:"200px"}),j=r(T,2),k=j[0],_=j[1],w=i.default.useCallback((function(e){k(e),x&&("function"===typeof x?x(e):"object"===typeof x&&(x.current=e))}),[x,k]);(0,i.useEffect)((function(){var e=_&&t&&(0,o.isLocalURL)(f),r="undefined"!==typeof g?g:n&&n.locale,a=c[f+"%"+d+(r?"%"+r:"")];e&&!a&&u(n,f,d,{locale:r})}),[d,f,_,g,t,n]);var C={ref:w,onClick:function(e){b.props&&"function"===typeof b.props.onClick&&b.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,i,s,l){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(n))&&(e.preventDefault(),null==s&&(s=r.indexOf("#")<0),t[a?"replace":"push"](n,r,{shallow:i,locale:l,scroll:s}))}(e,n,f,d,v,m,h,g)},onMouseEnter:function(e){(0,o.isLocalURL)(f)&&(b.props&&"function"===typeof b.props.onMouseEnter&&b.props.onMouseEnter(e),u(n,f,d,{priority:!0}))}};if(e.passHref||"a"===b.type&&!("href"in b.props)){var O="undefined"!==typeof g?g:n&&n.locale,N=n&&n.isLocaleDomain&&(0,o.getDomainLocale)(d,O,n&&n.locales,n&&n.domainLocales);C.href=N||(0,o.addBasePath)((0,o.addLocale)(d,O,n&&n.defaultLocale))}return i.default.cloneElement(b,C)};t.default=p},5749:function(e,t,n){"use strict";var r=n(3848);t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!o,l=(0,a.useRef)(),c=(0,a.useState)(!1),u=r(c,2),p=u[0],f=u[1],d=(0,a.useCallback)((function(e){l.current&&(l.current(),l.current=void 0),n||p||e&&e.tagName&&(l.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=s.get(t);if(n)return n;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return s.set(t,n={id:t,observer:a,elements:r}),n}(n),a=r.id,i=r.observer,o=r.elements;return o.set(e,t),i.observe(e),function(){o.delete(e),i.unobserve(e),0===o.size&&(i.disconnect(),s.delete(a))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,p]);return(0,a.useEffect)((function(){if(!o&&!p){var e=(0,i.requestIdleCallback)((function(){return f(!0)}));return function(){return(0,i.cancelIdleCallback)(e)}}}),[p]),[d,p]};var a=n(7294),i=n(8391),o="undefined"!==typeof IntersectionObserver;var s=new Map},3138:function(e,t,n){"use strict";n.d(t,{h:function(){return i},d:function(){return o}});var r=n(9669),a=n.n(r),i=a().create({baseURL:"https://helpin-hand.ey.r.appspot.com/rest/"}),o=a().create({baseURL:"https://helpin-hand.ey.r.appspot.com/gcs/imagens-helpin-hand/"})},7504:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(5893),a=n(6808),i=n.n(a)().get("user"),o=[{title:"Perfil",url:"/".concat(i),cName:"user-nav-links"},{title:"Explorar",url:"/home",cName:"user-nav-links"},{title:"Criar Atividade",url:"/createActivity",cName:"user-nav-links"},{title:"Notifica\xe7\xf5es",url:"/home",cName:"user-nav-links"}],s=n(7294),l=n(7623),c=n.n(l),u=n(1664),p=n(7569);function f(){var e=(0,s.useState)(!1),t=(e[0],e[1],(0,s.useContext)(p.V).handleLogout);return(0,r.jsx)("div",{className:c().Container,children:(0,r.jsx)("div",{className:c().NavbarItems,children:(0,r.jsxs)("nav",{children:[(0,r.jsx)("h1",{children:"Helpin'Hand"}),(0,r.jsxs)("div",{className:c().Navbar,children:[(0,r.jsx)("ul",{children:o.map((function(e,t){return(0,r.jsx)("li",{children:(0,r.jsx)(u.default,{href:e.url,children:(0,r.jsx)("a",{className:e.cName,children:e.title})})},t)}))}),(0,r.jsx)("button",{onClick:function(){return t()},children:"Logout"})]})]})})})}},7335:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(809),a=n.n(r),i=n(2447),o=n(5893),s=n(9744),l=n(7294),c=n(906),u=n(4949),p=n(3655),f=n(2122),d=n.n(f),y=(n(7799),["places"]),v={width:"20rem",height:"15rem"},m={lat:38.736946,lng:-9.142685},h={styles:[{featureType:"administrative.country",elementType:"labels.text",stylers:[{lightness:"29"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{lightness:"-12"},{color:"#796340"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{lightness:"15"},{saturation:"15"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{visibility:"on"},{color:"#fbf5ed"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{visibility:"on"},{color:"#fbf5ed"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.attraction",elementType:"all",stylers:[{visibility:"on"},{lightness:"30"},{saturation:"-41"},{gamma:"0.84"}]},{featureType:"poi.attraction",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.medical",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#b0e9ac"},{visibility:"on"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{hue:"#68ff00"},{lightness:"-24"},{gamma:"1.59"}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",elementType:"geometry",stylers:[{saturation:"10"},{color:"#c3eb9a"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"},{lightness:"30"},{color:"#e7ded6"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"},{saturation:"-39"},{lightness:"28"},{gamma:"0.86"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe523"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{saturation:"0"},{gamma:"1.44"},{color:"#fbc28b"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"on"},{saturation:"-40"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fed7a5"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"on"},{gamma:"1.54"},{color:"#fbe38b"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{visibility:"on"},{gamma:"2.62"},{lightness:"10"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"on"},{weight:"0.50"},{gamma:"1.04"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#dee3fb"}]},{featureType:"water",elementType:"geometry",stylers:[{saturation:"46"},{color:"#a4e1ff"}]}],disableDefaultUI:!0,zoomControl:!0};function g(){var e=(0,s.Db)({googleMapsApiKey:"AIzaSyBvd8Z9pZ5bwi6przQ1-KIYh88l_qFdjK0",libraries:y}),t=e.isLoaded,n=e.loadError,r=(0,l.useContext)(p.X),a=r.activityLocation,i=r.setActivityLocation,c=r.markers,u=r.setMarkers,f=(0,l.useCallback)((function(e){u({lat:e.latLng.lat(),lng:e.latLng.lng()}),console.log(e.latLng.lat(),e.latLng.lng())}),[]),d=(0,l.useRef)(null),g=(0,l.useCallback)((function(e){d.current=e}),[]),x=(0,l.useCallback)((function(e){var t=e.lat,n=e.lng;d.current.panTo({lat:t,lng:n}),d.current.setZoom(15),u({lat:t,lng:n})}),[]);return n?(0,o.jsx)("div",{children:" Error Loading Google Maps"}):t?(0,o.jsxs)("div",{children:[(0,o.jsx)(b,{panTo:x,inputvalue:function(e){var t=e;console.log(t),i(t),console.log("local: "+a)}}),(0,o.jsx)("h1",{children:a}),(0,o.jsx)(s.b6,{mapContainerStyle:v,zoom:9,center:m,options:h,onClick:f,onLoad:g,children:(0,o.jsx)(s.Jx,{position:{lat:c.lat,lng:c.lng}})})]}):(0,o.jsx)("div",{children:"Loading..."})}function b(e){var t=e.panTo,n=e.inputvalue,r=(0,c.ZP)({requestOptions:{location:{lat:function(){return 38.660046},lng:function(){return-9.198817}},radius:2e5}}),s=r.ready,l=r.value,p=r.suggestions,f=p.status,y=p.data,v=r.setValue,m=r.clearSuggestions;return(0,o.jsx)("div",{className:d().search,children:(0,o.jsxs)(u.hQ,{onSelect:function(){var e=(0,i.Z)(a().mark((function e(r){var i,o,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(r,!1),m(),e.prev=2,e.next=5,(0,c.LM)({address:r});case 5:return i=e.sent,e.next=8,(0,c.WV)(i[0]);case 8:o=e.sent,s=o.lat,l=o.lng,t({lat:s,lng:l}),n(r),console.log(s,l),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log("error");case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),children:[(0,o.jsx)(u.gA,{value:l,onChange:function(e){v(e.target.value),console.log(e.target.value),n(e.target.value)},disabled:!s,placeholder:"Location"}),(0,o.jsx)(u.SF,{children:(0,o.jsx)(u.Gk,{children:"OK"===f&&y.map((function(e){var t=e.description;return(0,o.jsx)(u.O2,{value:t},t)}))})})]})})}},7569:function(e,t,n){"use strict";n.d(t,{V:function(){return f},H:function(){return d}});var r=n(809),a=n.n(r),i=n(5893),o=n(2447),s=n(7294),l=n(3138),c=n(1163),u=n(6808),p=n.n(u),f=(0,s.createContext)({});function d(e){var t=e.children,n=(0,c.useRouter)(),r=(0,s.useState)(!1),u=r[0],d=r[1],y=(0,s.useState)(!0),v=y[0],m=y[1],h=(0,s.useState)(!1),g=h[0],b=h[1],x=(0,s.useState)(!1),T=x[0],j=x[1];function k(){return(k=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!1),p().remove("token"),p().remove("user"),n.push("/");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=(0,o.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.post("authentication/login",t).then((function(e){e.data&&(console.log(e),p().set("token",JSON.stringify(e.data)),p().set("user",e.data.username),d(!0),n.push("/".concat(e.data.username)))})).catch((function(e){console.log(e),d(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){var e=p().get("token");d(!!e),m(!1)}),[]),v?(0,i.jsx)("h1",{children:"Loading"}):(0,i.jsx)(f.Provider,{value:{authenticated:u,handleLogin:function(e){return _.apply(this,arguments)},handleLogout:function(){return k.apply(this,arguments)},subAtivity:g,setSubAtivity:b,subEdit:T,setSubEdit:j},children:t})}},3655:function(e,t,n){"use strict";n.d(t,{X:function(){return i},s:function(){return o}});var r=n(5893),a=n(7294),i=(0,a.createContext)({});function o(e){var t=e.children,n=(0,a.useState)(""),o=n[0],s=n[1],l=(0,a.useState)({lat:0,lng:0}),c=l[0],u=l[1];return(0,r.jsx)(i.Provider,{value:{activityLocation:o,setActivityLocation:s,markers:c,setMarkers:u},children:t})}},3082:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(5893),a=n(809),i=n.n(a),o=n(2447),s=n(6265),l=n(9227),c=n(8347),u=n(170),p=n(7784),f=n(282),d=n(9811),y=n(3138),v=n(7569),m=n(3655),h=n(7294),g=n(1163),b=n(6808),x=n.n(b),T=n(2143),j=n.n(T),k=n(7335),_=n(2605);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.type,n=e.placeholder,a=(0,c.Z)(e,["type","placeholder"]),i=(0,u.U$)(a),o=(0,l.Z)(i,2),s=o[0],f=o[1],d=f.error&&f.touched?f.error:"";return(0,r.jsx)(p.Z,C(C({type:t,size:"small",placeholder:n},s),{},{helperText:d,error:!!d}))},N=d.Ry({title:d.Z_().min(10,"O t\xedtulo deve ter entre 10 a 50 car\xe1teres.").max(50,"O t\xedtulo deve ter entre 10 a 50 car\xe1teres.").required("Obrigat\xf3rio"),description:d.Z_().min(10,"A descri\xe7\xe3o deve conter no min\xedmo 100 car\xe1teres.").required("Obrigat\xf3rio"),date:d.hT().required("Obrigatorio"),totalParticipants:d.Rx().moreThan(0,"Uma atividade precisa de pelo menos uma pessoa.").typeError("N\xe3o pode conter letras.").required("Obrigat\xf3rio"),category:d.Z_().required("Obrigat\xf3rio")});function L(){(0,g.useRouter)();var e=(0,h.useContext)(v.V),t=(e.subAtivity,e.setSubAtivity,(0,h.useContext)(v.V).authenticated),n=(0,h.useContext)(m.X),a=n.activityLocation,s=n.markers,l=JSON.parse(x().get("token")),c=(0,h.useState)(""),d=c[0],b=c[1];return(0,r.jsx)("div",{className:j().container,children:(0,r.jsx)("div",{children:(0,r.jsx)(u.J9,{initialValues:{title:"",description:"",date:"",location:a,totalParticipants:"",activityOwner:l.username,category:"",lat:"",lon:""},validationSchema:N,onSubmit:function(){var e=(0,o.Z)(i().mark((function e(n,r){var o,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.setSubmitting,console.log("submitting"),o(!0),c={headers:{"Content-Type":"application/json"}},n.location=a,n.lat=s.lat+"",n.lon=s.lng+"",n.date=d,u=JSON.stringify({token:C({},l),activityData:C({},n)}),console.log(u),console.log(t),""===n.location){e.next=17;break}if(!t){e.next=15;break}return e.next=15,y.h.post("activities/insert",u,c).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 15:e.next=18;break;case 17:alert("sem location");case 18:o(!1);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return(0,r.jsxs)(u.l0,{className:j().form,children:[(0,r.jsx)(O,{placeholder:"title",name:"title",type:"input",as:p.Z}),(0,r.jsx)(O,{placeholder:"description",name:"description",type:"input",as:p.Z}),(0,r.jsx)(O,{placeholder:"totalParticipants",name:"totalParticipants",type:"input",as:p.Z}),(0,r.jsx)(O,{placeholder:"category",name:"category",type:"input",as:p.Z}),(0,r.jsx)("p",{children:"data"}),(0,r.jsx)(O,{id:"datetime-local",type:"datetime-local",name:"date",placeholder:"data",defaultValue:null,onChange:function(e){return function(e){b((0,_.Z)(new Date(e.target.value),"dd/MM/yyyy HH:mm")),console.log(d)}(e)},as:p.Z}),(0,r.jsx)("div",{className:j().mapView,children:(0,r.jsx)(k.Z,{})}),(0,r.jsx)("div",{children:(0,r.jsx)(f.Z,{disabled:t,type:"submit",children:"submit"})})]})}})})})}var S=n(7504),E=n(5665),Z=n.n(E);function P(){return(0,r.jsxs)("div",{className:Z().Container,children:[(0,r.jsx)("div",{className:Z().Header,children:(0,r.jsx)(S.Z,{})}),(0,r.jsx)("div",{className:Z().Feed,children:(0,r.jsx)(L,{})})]})}},4087:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createActivity",function(){return n(3082)}])},2143:function(e){e.exports={container:"styles_container__1AYEh",form:"styles_form__2CoOj",mapView:"styles_mapView__2bxv1"}},7623:function(e){e.exports={NavbarItems:"styles_NavbarItems__1mok6",Navbar:"styles_Navbar__20cRx"}},2122:function(){},5665:function(e){e.exports={container:"base_container__3b-bk",header:"base_header__1vI13",Feed:"base_Feed__1i9Wq",searchBar:"base_searchBar__1ng96",activity:"base_activity__1pnCS",other:"base_other__npAFr"}},1664:function(e,t,n){e.exports=n(6071)},4453:function(){}},function(e){e.O(0,[774,351,433,155,474,607,79,605],(function(){return t=4087,e(e.s=t);var t}));var t=e.O();_N_E=t}]);